var typingTimer,doneTypingInterval=350,data_watchlist={watchlistData:database.getWatchlist(),watchlistCount:database.getWatchlist().length};Vue.component("app-nav",{template:'<header class="app-header">\t\t\t\t\t<ul class="tab tab-block">\t\t\t\t\t\t<router-link tag="li" class="tab-item" to="/" exact active-class="active">\t\t  \t\t\t\t\t<a>\t\t  \t\t\t\t\t\t<span class="lnr lnr-magnifier"></span> <span class="hidden-xs">Explore</span>\t  \t\t\t\t\t\t</a>\t\t\t\t\t\t</router-link>\t\t\t\t\t\t<router-link tag="li" class="tab-item" to="/watchlist" exact active-class="active">\t\t  \t\t\t\t\t<a v-bind:class="{ badge: watchlistCount }" v-bind:data-badge="watchlistCount">\t\t  \t\t\t\t\t\t<span class="lnr lnr-bookmark"></span> <span class="hidden-xs">Watchlist</span>\t\t  \t\t\t\t\t</a>\t\t\t\t\t\t</router-link>\t\t\t\t\t\t<router-link tag="li" class="tab-item" to="/profile" exact active-class="active">\t\t\t\t\t\t\t<a>\t\t\t\t\t\t\t\t<figure class="avatar avatar-xs" data-initial="YZ" style="background-color: #5764c6;">\t                      \t\t\t\t<img src="img/avatar-2.png">\t                \t\t\t</figure> <span class="hidden-xs">Profile</span>                \t\t\t</a>\t\t\t\t\t\t</router-link>\t\t\t\t\t\t<router-link tag="li" class="tab-item" to="/watch-now" exact active-class="active">\t\t\t\t\t\t\t<a>\t\t\t\t\t\t\t\t<span class="lnr lnr-film-play"></span> <span class="hidden-xs">Watch Now</span>                \t\t\t</a>\t\t\t\t\t\t</router-link>\t\t\t\t\t</ul>\t\t\t\t</header>',data:function(){return data_watchlist},watch:{watchlistData:function(){this.countWatchlist()}},methods:{countWatchlist:function(){data_watchlist.watchlistCount=data_watchlist.watchlistData.length}}}),Vue.component("explore_view",{template:'<div class="container grid-960">\t\t\t\t\t<div class="columns">\t\t    \t\t\t<div class="column col-6 col-md-8 col-sm-12 col-xs-12 centered">\t\t    \t\t\t\t<form v-on:submit.prevent="searchMovie">\t\t\t\t\t    \t\t<div class="input-group">\t\t\t\t\t\t\t\t    <input type="text" class="form-input"  v-on:keyup="searchMovie" v-model="query" placeholder="Search movies..." />\t\t\t\t\t\t\t\t    <button v-bind:disabled="!query" v-bind:class="{ loading: loading }" class="btn btn-primary input-group-btn">Search</button>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t    <div class="form-group">\t\t\t\t\t\t\t        <label class="form-switch">\t\t\t\t\t\t\t            <input type="checkbox" v-model="showAdvancedFilters">\t\t\t\t\t\t\t            <i class="form-icon"></i> <span v-cloak>{{advancedFilterText}}</span>\t\t\t\t\t\t\t        </label>\t\t\t\t\t\t\t    </div>\t\t\t\t\t\t\t</form>\t\t\t\t\t\t\t<div class="column col-xs-12 text-center">\t\t\t                    <div class="btn-group">\t\t\t                        <button v-on:click="popularMovies" v-bind:class="{ active: listPick == \'popular\' }" class="btn btn-sm">Popular</button>\t\t\t                        <button v-on:click="topRatedMovies" v-bind:class="{ active: listPick == \'toprated\' }" class="btn btn-sm">Top Rated</button>\t\t\t                        <button v-on:click="upcomingMovies" v-bind:class="{ active: listPick == \'upcoming\' }" class="btn btn-sm">Upcoming</button>\t\t\t                    </div>\t\t\t                </div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="text-center" v-show="searchMessage" v-cloak>{{searchMessage}}</div>\t\t\t\t\t<div class="columns col-multiline">\t\t\t\t\t \t<div class="column col-3 col-md-4 col-sm-6 col-xs-12" v-for="(movie, index) in movies" v-bind:movie="movie" v-cloak>\t\t\t\t\t \t\t<div class="card movie-card">\t\t\t\t\t \t\t\t<div v-on:click="singleMovieUrl(movie.id)" class="card-image">\t\t\t\t\t \t\t\t\t<div v-if="movie.poster_path" v-bind:style="{backgroundImage: \'url(https://image.tmdb.org/t/p/w500\' + movie.poster_path + \')\'}"></div>\t\t\t\t \t\t\t\t\t<p v-if="!movie.poster_path" class="card-meta">No poster</p>\t\t\t\t\t \t\t\t</div>\t\t\t\t\t \t\t\t<div class="card-header" v-on:click="showSingleMovieInfo(movie.id)">\t\t\t\t\t\t\t        <h4 class="card-title">{{movie.title}}</h4>\t\t\t\t\t\t\t        <h6 class="card-meta"> {{ movie.release_date | makeYear }} <span class="lnr lnr-star"></span> {{movie.vote_average | filterRating}}</h6>\t\t\t\t\t\t\t    </div>\t\t\t\t\t\t\t    <div class="card-footer">\t\t\t\t\t\t\t    </div>\t\t\t\t\t\t        <div class="btn-group btn-group-block">\t\t\t\t\t\t\t\t    <button class="btn tooltip tooltip-bottom" data-tooltip="Skip Movie"><span class="lnr lnr-cross"></span></button>\t\t\t\t\t\t\t\t    <button class="btn tooltip tooltip-bottom" data-tooltip="Already Watched"><span class="lnr lnr-eye"></span></button>\t\t\t\t\t\t\t\t    <button class="btn tooltip tooltip-bottom" data-tooltip="Add to Watchlist" v-on:click="addToWatchList(movie)"><span class="lnr lnr-bookmark"></span></button>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t \t\t</div>\t\t\t\t\t \t</div>\t\t\t\t\t</div>\t\t\t\t</div>',data:function(){return{query:null,movies:null,loading:!1,singleMovieInfo:!1,searchMessage:"Search for something",showAdvancedFilters:!1,listPick:!1}},watch:{listPick:function(){self=this,self.listPick&&(self.query=null)}},computed:{advancedFilterText:function(){return this.showAdvancedFilters?"Hide advanced filters":"Show advanced filters"}},methods:{singleMovieUrl:function(t){router.push({name:"singleMovieRoute",params:{id:t}})},popularMovies:function(){self=this,self.listPick="popular",$.ajax({url:"https://api.themoviedb.org/3/movie/popular",data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.movies=t.results,self.searchMessage="Popular Movies"})},topRatedMovies:function(){self=this,self.listPick="toprated",$.ajax({url:"https://api.themoviedb.org/3/movie/top_rated",data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.movies=t.results,self.searchMessage="Top Rated Movies"})},upcomingMovies:function(){self=this,self.listPick="upcoming",$.ajax({url:"https://api.themoviedb.org/3/movie/upcoming",data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.movies=t.results,self.searchMessage="Upcoming Movies"})},searchMovie:function(){self=this,self.listPick=!1,self.loading=!0,self.searchMessage="Searching...",clearTimeout(typingTimer),self.query?typingTimer=setTimeout(function(){$.ajax({url:"https://api.themoviedb.org/3/search/movie",data:{query:encodeURI(self.query),language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.movies=t.results,self.loading=!1,!t.results.length>0?self.searchMessage="Nothing found":self.searchMessage="Found "+t.results.length+" movies"})},doneTypingInterval):(self.movies=null,self.loading=!1,self.searchMessage="Search for something")},closeModal:function(){self=this,self.singleMovieInfo=!1},addToWatchList:function(t){data_watchlist.watchlistData=database.addWatchlist(t)}},filters:{filterRating:function(t){return 0==t?"N/A":t}}}),Vue.component("watchlist_view",{template:'<div class="container grid-960">\t\t\t\t\t<h3 class="text-center">My Watchlist</h3>\t\t\t\t\t<ul class="watchlist-listing">\t\t\t\t\t\t<li v-for="movie in showWatchlist" class="watchlist-single">\t\t\t\t\t\t\t<div class="columns">\t\t\t\t\t\t\t\t<div class="column col-1 watchlist-single-img hidden-xs hidden-sm" v-on:click="singleMovieUrl(movie.id)">\t\t\t\t\t\t\t\t\t<img v-if="movie.poster_path" v-bind:src="posterLink(movie.poster_path)">\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="column col-9 col-md-9 col-sm-8 col-xs-8" v-on:click="singleMovieUrl(movie.id)">\t\t\t\t\t\t\t\t\t<h5 class="watchlist-single-title">{{movie.title}}</h5>\t\t\t\t\t\t\t\t\t<p>{{ movie.release_date | makeYear }}</p>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="column col-2 col-md-2 col-sm-3 col-xs-4 text-right">\t\t\t\t\t\t\t\t\t<button class="btn btn-sm tooltip tooltip-bottom" data-tooltip="Remove from Watchlist" v-on:click="removeFromWatchlist(movie)"><span class="lnr lnr-cross"></span></button>\t\t\t\t\t\t\t\t\t<button class="btn btn-sm tooltip tooltip-bottom" data-tooltip="Watched"><span class="lnr lnr-eye"></span></button>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</li>\t\t\t\t\t</ul>\t\t\t\t\t<div v-if="watchlistData.length == 0">\t\t\t\t\t\t<p class="text-center">Your watchlist is empty</p>\t\t\t\t\t\t<p class="text-center"><router-link class="btn btn-link" to="/" exact >Explore Movies</router-link></p>\t\t\t\t\t</div>\t\t\t\t</div>',data:function(){return data_watchlist},computed:{showWatchlist:function(){return data_watchlist.watchlistData}},methods:{singleMovieUrl:function(t){router.push({name:"singleMovieRoute",params:{id:t}})},removeFromWatchlist:function(t){data_watchlist.watchlistData=database.addWatchlist(t)},posterLink:function(t){return"https://image.tmdb.org/t/p/w154"+t}}}),Vue.component("profile_view",{template:'<div>\t\t\t\t\t<div class="container grid-960">\t\t\t\t\t\t<h6 class="text-center">This function is not yet implemented</h6>\t\t\t\t\t\t<h3 class="text-center">My Profile</h3>\t\t\t\t\t\t<div class="text-center">\t\t\t\t\t\t\t<figure class="avatar avatar-xl">\t\t    \t\t\t\t\t<img src="img/avatar-1.png" />\t\t\t\t\t\t\t</figure>\t\t\t\t\t\t\t<h4>Tobias Sernhede</h4>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<ul class="tab tab-block">\t\t\t\t\t    <li class="tab-item active">\t\t\t\t\t        <a href="#">Feed</a>\t\t\t\t\t    </li>\t\t\t\t\t    <li class="tab-item">\t\t\t\t\t        <a href="#" class="active">Friends</a>\t\t\t\t\t    </li>\t\t\t\t\t    <li class="tab-item">\t\t\t\t\t        <a href="#">Followers</a>\t\t\t\t\t    </li>\t\t\t\t\t    <li class="tab-item">\t\t\t\t\t        <a href="#">Following</a>\t\t\t\t\t    </li>\t\t\t\t\t</ul>\t\t\t\t\t<div class="container grid-960">\t\t\t\t\t</div>\t\t\t\t</div>'}),Vue.component("watch_now_view",{template:'<div class="container grid-960">\t\t\t\t\t<h6 class="text-center">This function is not yet implemented</h6>\t\t\t\t\t<h3 class="text-center">Watch Now</h3>\t\t\t\t\t<div class="divider"></div>\t\t\t\t\t<h5 class="text-center">Who are you watching with?</h5>\t\t\t\t\t<div class="column col-6 col-xs-12 centered">\t                    <div class="form-group">\t                        <div class="form-autocomplete">\t                            <div class="form-autocomplete-input">\t                                <div class="chip-sm">\t                                    <img src="img/avatar-1.png" class="avatar">\t                                    <span class="chip-name">Tony Stark</span>\t                                    <button class="btn btn-clear"></button>\t                                </div>\t                                <div class="chip-sm">\t                                    <img src="img/avatar-2.png" class="avatar">\t                                    <span class="chip-name">Thor Odinson</span>\t                                    <button class="btn btn-clear"></button>\t                                </div>\t                                <input class="form-input" type="text" placeholder="typing here" :suggestions="friends" :selection.sync="query">\t                            </div>\t                            <ul class="form-autocomplete-list">\t                                <li class="form-autocomplete-item">\t                                    <div class="chip hand">\t                                        <div class="chip-icon">\t                                            <img src="img/avatar-4.png" class="avatar">\t                                        </div>\t                                        <div class="chip-content">\t                                            Steve Rogers\t                                        </div>\t                                    </div>\t                                </li>\t                                <li class="form-autocomplete-item">\t                                    <div class="chip hand">\t                                        <div class="chip-icon">\t                                            <img src="img/avatar-2.png" class="avatar">\t                                        </div>\t                                        <div class="chip-content">\t                                            Yan Zhu\t                                        </div>\t                                    </div>\t                                </li>\t                            </ul>\t                        </div>\t                    </div>\t                </div>\t\t\t\t</div>',data:function(){return{friends:["Tobias Sernhede","Daniel Hesselberg","Pia Lundin"],query:""}}}),Vue.component("single_movie_view",{template:'<div class="single-movie">\t\t\t\t\t{{movie_info}}\t\t\t\t\t<div class="loading" v-if="loading"></div>\t\t\t\t\t<div v-if="!loading">\t\t\t\t\t\t<div v-bind:class="{\'has-backdrop\' : movie.backdrop_path}" v-bind:style="{backgroundImage: \'url(https://image.tmdb.org/t/p/w1280\' + movie.backdrop_path + \')\'}">\t\t\t\t\t\t\t<div class="single-movie-headline">\t\t\t\t\t\t\t\t<h3 class="text-center">{{movie.title}}</h3>\t\t\t\t\t\t\t\t<h6 class="text-center">{{movie.tagline}}</h6>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="single-movie-info container grid-960">\t\t\t\t\t\t\t<div class="columns">\t\t\t\t\t\t\t\t<div class="column col-8 col-sm-10 col-xs-12 centered">\t\t\t\t\t\t\t\t\t<div class="single-movie-meta text-center">\t\t\t\t\t\t\t\t\t<span>Release: {{movie.release_date}}</span>\t\t\t\t\t\t\t\t\t<span>Rating: {{movie.vote_average}}</span>\t\t\t\t\t\t\t\t\t<span>IMDB: {{omdb.imdbRating}}</span>\t\t\t\t\t\t\t\t\t<span>Metascore: {{omdb.Metascore}}</span>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="btn-group btn-group-block">\t\t\t\t\t\t\t\t    \t<button class="btn tooltip tooltip-bottom" data-tooltip="Skip Movie"><span class="lnr lnr-cross"></span> <span class="hidden-xs">Skip</span></button>\t\t\t\t\t\t\t\t    \t<button class="btn tooltip tooltip-bottom" data-tooltip="Already Watched"><span class="lnr lnr-eye"></span> <span class="hidden-xs">Watched</span></button>\t\t\t\t\t\t\t\t    \t<button class="btn tooltip tooltip-bottom" data-tooltip="Add to Watchlist" v-on:click="addToWatchList(movie)"><span class="lnr lnr-bookmark"></span> <span class="hidden-xs">+Watchlist</span></button>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="divider"></div>\t\t\t\t\t\t\t\t\t<div class="column col-12">\t\t\t\t\t\t\t\t\t\t<p>{{movie.overview}}</p>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="column col-8 col-sm-10 col-xs-12 centered">\t\t\t\t\t\t\t\t<h4>Cast</h4>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div v-for="profile in cast" class="cast-profile column col-8 col-sm-10 col-xs-12 centered" v-on:click="peopleUrl(profile.id)">\t\t\t\t\t\t\t\t<div class="columns">\t\t\t\t\t\t\t\t\t<div class="col-2">\t\t\t\t\t\t\t\t\t\t<div v-if="profile.profile_path">\t\t\t\t\t\t\t\t\t\t\t<div class="cast-profile-img" v-bind:style="{backgroundImage: \'url(https://image.tmdb.org/t/p/w185\' + profile.profile_path + \')\'}"></div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="col-10 cast-profile-name">\t\t\t\t\t\t\t\t\t\t<h6><span v-if="profile.character">{{profile.character}} | </span><b>{{profile.name}}</b></h6>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="column col-8 col-sm-10 col-xs-12 centered">\t\t\t\t\t\t\t\t<h4>Crew</h4>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div v-for="profile in crew" class="cast-profile column col-8 col-sm-10 col-xs-12 centered">\t\t\t\t\t\t\t\t<div class="columns">\t\t\t\t\t\t\t\t\t<div class="col-2">\t\t\t\t\t\t\t\t\t\t<div v-if="profile.profile_path">\t\t\t\t\t\t\t\t\t\t\t<div class="cast-profile-img" v-bind:style="{backgroundImage: \'url(https://image.tmdb.org/t/p/w185\' + profile.profile_path + \')\'}"></div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="col-10 cast-profile-name">\t\t\t\t\t\t\t\t\t\t<h6><b>{{profile.name}}</b> | <small>{{profile.job}}</small></h6>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>',data:function(){return{movie:null,cast:null,crew:null,omdb:null,loading:!0}},computed:{movie_info:function(){self=this,$.ajax({url:"https://api.themoviedb.org/3/movie/"+this.$route.params.id,data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.movie=t,$.ajax({url:"http://www.omdbapi.com/",data:{i:self.movie.imdb_id,plot:"full",r:"json"},dataType:"json"}).done(function(t){self.omdb=t,self.loading=!1})}),$.ajax({url:"https://api.themoviedb.org/3/movie/"+this.$route.params.id+"/credits",data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.cast=t.cast,self.crew=t.crew})}},methods:{addToWatchList:function(t){data_watchlist.watchlistData=database.addWatchlist(t)},peopleUrl:function(t){router.push({name:"peopleView",params:{id:t}})}}}),Vue.component("people_view",{template:'<div class="single-profile">{{people_info}}\t\t\t\t\t<div v-if="loading" class="loading loading-full"></div>\t\t\t\t\t<div class="container grid-960" v-if="!loading">\t\t\t\t\t\t<div class="columns">\t\t\t\t\t\t\t<div class="column col-8 col-sm-10 col-xs-12 centered">\t\t\t\t\t\t\t\t<div v-if="profile.profile_path">\t\t\t\t\t\t\t\t\t<div class="profile-img" v-bind:style="{backgroundImage: \'url(https://image.tmdb.org/t/p/w185\' + profile.profile_path + \')\'}"></div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<h3 class="text-center">{{profile.name}}</h3>\t\t\t\t\t\t\t\t<p>{{profile.biography}}</p>\t\t\t\t\t\t\t\t<p v-if="profile.birthday"><small>Birthday: {{profile.birthday}}</small></p>\t\t\t\t\t\t\t\t<p v-if="profile.deathday"><small>Death: {{profile.deathday}}</small></p>\t\t\t\t\t\t\t\t<p v-if="profile.place_of_birth"><small>Place of birth: {{profile.place_of_birth}}</small></p>\t\t\t\t\t\t\t\t<div class="divider"></div>\t\t\t\t\t\t\t\t<h4>Movies</h4>\t\t\t\t\t\t\t\t<div v-for="cast in moviesCast" v-on:click="singleMovieUrl(cast.id)" class="profile-movie-list">\t\t\t\t\t\t\t\t\t{{cast.title}} | {{cast.character}} | {{cast.release_date}}\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div v-for="crew in moviesCrew" v-on:click="singleMovieUrl(crew.id)" class="profile-movie-list">\t\t\t\t\t\t\t\t\t{{crew.title}} | {{crew.job}} | {{crew.release_date}}\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>',data:function(){return{profile:null,moviesCast:null,moviesCrew:null,loading:!0}},computed:{people_info:function(){self=this,$.ajax({url:"https://api.themoviedb.org/3/person/"+this.$route.params.id,data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){self.profile=t,self.loading=!1}),$.ajax({url:"https://api.themoviedb.org/3/person/"+this.$route.params.id+"/movie_credits",data:{language:"en-US",api_key:"50552c8bec3a5e29168458ab7506252b"},dataType:"json"}).done(function(t){console.log(t),self.moviesCast=t.cast,self.moviesCrew=t.crew})}},methods:{singleMovieUrl:function(t){router.push({name:"singleMovieRoute",params:{id:t}})}}});var routes=[{path:"/",components:{default:"app-nav",view:"explore_view"}},{path:"/watchlist",components:{default:"app-nav",view:"watchlist_view"}},{path:"/profile",components:{default:"app-nav",view:"profile_view"}},{path:"/watch-now",components:{default:"app-nav",view:"watch_now_view"}},{path:"/movie/:id",name:"singleMovieRoute",components:{default:"app-nav",view:"single_movie_view"}},{path:"/people/:id",name:"peopleView",components:{default:"app-nav",view:"people_view"}}],router=new VueRouter({routes:routes});Vue.filter("makeYear",function(t){if(!t)return"";var e=t.substring(0,4);return e});var app=new Vue({router:router}).$mount("#app");